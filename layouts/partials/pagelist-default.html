<div class="pagelist">
  <table>
    {{ if isset .Params "infos" }}
    {{ if gt (len .Params.infos) 1 }}
    <thead>
      <tr>
      {{ range .Params.infos }}
        <th>{{ title .name }}</th>
        {{ end }}
      </tr>
    </thead>
    {{ end }}
    {{ end }}
    <tbody>
      <tr>
        {{ range $page := (.Paginator 15).Pages }}
          {{ range $info := $.Params.infos }}

          {{ $key := "" }}
          {{ if eq (index $info "key") nil }}
          {{ $key = $info.name }}
          {{ else }}
          {{ $key = $info.key }}
          {{ end }}
          {{ $value := (index $page.Params $key) }}

          {{ $type := "" }}
          {{ if ne (index $info "type") nil }}
          {{ $type = $info.type }}
          {{ end }}

          {{ $link := false }}
          {{ if ne (index $page.Params "link") nil }}
          {{ $link = (index $page.Params "link") }}
          {{ else if ne (index $info "link") nil }}
          {{ $link = (index $info "link") }}
          {{ end }}

          {{ $datespan := false }}
          {{ $dateto := "" }}
          {{ if (eq $type "date") }}

          {{ if ne (index $page.Params "dateto") nil }}
          {{ $datespan = true }}
          {{ $dateto = (index $page.Params "dateto") }}
          {{ end }}

          <td>
            <time class="list-time" datetime="{{- dateFormat "2006-01-02" $value -}}">
              {{- dateFormat "2006-01-02" $value -}}
              {{- if $datespan -}}
              <br>
              <div class="dateto">&ndash; {{ dateFormat "2006-01-02" $dateto -}}</div>
              {{ end }}
            </time>
          </td>
          {{ else }}
          <td>
            {{ if (eq $link true) }}
            <a href="{{ $page.URL }}">
              {{ $value }}
            </a>
            {{ else }}
              {{ $value }}
            {{ end }}
          </td>
          {{ end }}
        {{ end }}
      </tr>
      {{ end }}
    </tbody>
  </table>
  {{ template "_internal/pagination.html" . }}
</div>
